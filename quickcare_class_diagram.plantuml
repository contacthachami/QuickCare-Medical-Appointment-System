@startuml QuickCare Class Diagram

' Style settings
skinparam classAttributeIconSize 0
skinparam classBackgroundColor #FEFECE
skinparam classBorderColor #A80036
skinparam arrowColor #A80036
skinparam shadowing false
skinparam monochrome false
skinparam linetype ortho
skinparam nodesep 80
skinparam ranksep 100
skinparam defaultTextAlignment center
skinparam pathHoverColor red

' Base user class
class User {
  -id: int
  -name: string
  -email: string
  -password: string
  -gender: string
  -phone: string
  -address_id: int
  -user_type: string
  -email_verified_at: timestamp
  -img: string
  -remember_token: string
  -created_at: timestamp
  -updated_at: timestamp
  +register(): bool
  +login(): bool
  +logout(): bool
  +resetPassword(): bool
  +updateProfile(): bool
}

' User Subtypes
class Patient {
  -id: int
  -cin: string
  -birth_date: date
  -user_id: int
  -created_at: timestamp
  -updated_at: timestamp
  +updateMedicalProfile(): bool
  +searchDoctors(criteria): array
  +bookAppointment(doctorId, dateTime): bool
}

class Doctor {
  -id: int
  -birth_date: date
  -degree: string
  -status: string
  -specialty_id: int
  -avg_rating: decimal
  -user_id: int
  -created_at: timestamp
  -updated_at: timestamp
  +updateProfessionalProfile(): bool
  +manageSchedule(): bool
  +viewAppointments(): array
  +approveAppointment(appointmentId): bool
  +rejectAppointment(appointmentId): bool
}

' Address Management
class Address {
  -id: int
  -rue: string
  -ville: string
  -created_at: timestamp
  -updated_at: timestamp
  +formatAddress(): string
}

' Medical Domain Classes
class Specialty {
  -id: int
  -name: string
  -created_at: timestamp
  -updated_at: timestamp
  +getDoctorsBySpecialty(): array
}

class Schedule {
  -id: int
  -start: time
  -end: time
  -day: string
  -status: string
  -doctor_id: int
  -specific_date: date
  -created_at: timestamp
  -updated_at: timestamp
  +getAvailableTimeSlots(date): array
  +isTimeSlotAvailable(date, time): bool
}

class Appointment {
  -id: int
  -reason: string
  -status: string
  -Patient_Disponibility: string
  -appointment_date: date
  -doctor_comment: text
  -patient_id: int
  -doctor_id: int
  -schedule_id: int
  -checkin: timestamp
  -checkout: timestamp
  -created_at: timestamp
  -updated_at: timestamp
  +confirm(): bool
  +cancel(): bool
  +reschedule(newDate, newTime): bool
  +markAsCompleted(): bool
}

class Rating {
  -id: int
  -patient_id: int
  -doctor_id: int
  -rating: int
  -comment: text
  -created_at: timestamp
  -updated_at: timestamp
  +updateRating(): bool
  +deleteRating(): bool
}

' Notifications 
class Notification {
  -id: int
  -user_id: int
  -title: string
  -message: text
  -is_read: bool
  -created_at: timestamp
  -updated_at: timestamp
  +markAsRead(): bool
  +send(): bool
}

' Application for doctors
class Application {
  -id: int
  -name: string
  -email: string
  -details: text
  -cv: string
  -status: enum
  -registration_token: string
  -token_expiry: timestamp
  -created_at: timestamp
  -updated_at: timestamp
  +approve(): bool
  +reject(): bool
}

' Relationships

' User relationships
User "1" -- "0..1" Address : has >
User "1" -- "0..1" Patient : has profile >
User "1" -- "0..1" Doctor : has profile >
User "1" -- "0..*" Notification : receives >

' Patient relationships
Patient "1" -- "0..*" Appointment : books >
Patient "1" -- "0..*" Rating : gives >

' Doctor relationships
Doctor "1" -- "1..*" Schedule : manages >
Doctor "1" -- "0..*" Appointment : receives >
Doctor "1" -- "0..*" Rating : receives >
Doctor "1" -- "1" Specialty : specializes in >

' Appointment relationships
Appointment "0..*" -- "1" Schedule : uses >
Appointment "1" -- "0..1" Rating : may generate >

@enduml 